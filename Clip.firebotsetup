{"name":"Clip","description":"Clips from chat input","version":4.9,"author":"arblane","components":{"commands":[{"active":true,"simple":false,"sendCooldownMessage":true,"cooldownMessage":"{user}, try clipping again in {timeLeft}!","cooldown":{"user":10},"effects":{"id":"eb26277c-842a-4044-a3a5-196349689c55","list":[{"id":"f6ff0570-1e71-11ee-a4da-0523cb75030f","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$$lastClippedStreamer","rightSideValue":"$lowercase[$arg[all]]"}]},"effectData":{"list":[{"id":"443c5880-1e70-11ee-a4da-0523cb75030f","type":"firebot:chat","active":true,"chatter":"Bot","sendAsReply":true,"message":"Sorry @$username, but $arg[all] cannot be added to the clip queue twice in a row."}],"id":"270259e0-1e70-11ee-a4da-0523cb75030f"},"label":"streamer twice in a row"}],"otherwiseEffectData":{"list":[{"id":"1fa71fb0-f06a-11ee-92ae-6b3a927f4fc8","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"inclusive","conditions":[{"type":"firebot:custom","comparisonType":"contains","value":null,"leftSideValue":"$arg[all]","rightSideValue":"https://www.twitch.tv/"},{"type":"firebot:custom","comparisonType":"contains","value":null,"rightSideValue":"https://clips.twitch.tv/","leftSideValue":"$arg[all]"}]},"effectData":{"list":[{"id":"57f83cf0-f06a-11ee-92ae-6b3a927f4fc8","type":"firebot:customvariable","active":true,"ttl":90,"name":"clipUri","variableData":"$arg[1]","effectLabel":"clipUri"},{"id":"d9e08bd0-f06c-11ee-b291-65d8f8d970f4","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{},"effectList":{"list":[],"id":"d9e2fcd0-f06c-11ee-b291-65d8f8d970f4"},"presetListId":"0d2f3ab0-f06b-11ee-92ae-6b3a927f4fc8","effectLabel":"Clip Uri Details"},{"id":"83a85ac0-2809-11ef-84c0-99c925ade2dd","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{},"effectList":{"list":[],"id":"83ab19e0-2809-11ef-84c0-99c925ade2dd"},"presetListId":"e48a3360-2bc8-11ee-95cd-a1b91b9c8cf9","effectLabel":"Clip Player"}],"id":"1faa5400-f06a-11ee-92ae-6b3a927f4fc8"},"label":"Clip URI"}],"otherwiseEffectData":{"list":[{"id":"82cce611-f06a-11ee-92ae-6b3a927f4fc8","type":"firebot:customvariable","active":true,"ttl":15,"name":"lastClippedStreamer","variableData":"$lowercase[$arg[all]]","effectLabel":"record current streamer name"},{"id":"82cce612-f06a-11ee-92ae-6b3a927f4fc8","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{"streamer":"$arg[all]","name":"$arg[all]"},"effectList":{"list":[],"id":"9a4f4200-1e70-11ee-a4da-0523cb75030f"},"presetListId":"9c1d3e20-c368-11ec-be40-ff01da2eede2","dontWait":true,"effectLabel":"Add streamer to clip queue"}],"id":"1fa94290-f06a-11ee-92ae-6b3a927f4fc8"},"otherwiseLabel":"Stream named"}],"id":"27012160-1e70-11ee-a4da-0523cb75030f"}}],"queue":null},"restrictionData":{"restrictions":[],"mode":"all","sendFailMessage":true,"failMessage":"Sorry {user}, but you need to Follow if you want to use the $commandTrigger command.","useCustomFailMessage":true},"aliases":["!watch"],"sortTags":["1103ba8e-b2dc-47b7-8ced-d489bfecd957"],"treatQuotedTextAsSingleArg":false,"trigger":"!clip","id":"d09b9600-dbbe-11ed-99c3-c983bb9904e0","createdBy":"arblane","createdAt":"2023-04-15T14:53:30-04:00","count":191,"lastEditBy":"arblane","lastEditAt":"2024-06-11T13:33:46.207-04:00","ignoreBot":true,"hidden":false,"type":"custom","useCustomCooldownMessage":true}],"counters":[],"currencies":[],"effectQueues":[{"name":"Clips","mode":"auto","sortTags":[],"id":"9d729480-1e90-11ee-8ad0-8dcbe72c0302","active":true,"interval":1,"length":0}],"events":[{"name":"Reset Clips Played This Stream","active":true,"cached":true,"sortTags":[],"eventId":"stream-started","sourceId":"ebiggz-obs-control","effects":{"list":[{"id":"c8e9a2b0-1e91-11ee-8ad0-8dcbe72c0302","type":"firebot:customvariable","active":true,"ttl":0,"name":"clipsPlayedThisStream","variableData":"[]","effectLabel":"clipsPlayedThisStream"},{"id":"e8c403d0-1e93-11ee-8ad0-8dcbe72c0302","type":"firebot:customvariable","active":true,"ttl":0,"name":"clipsStatus","variableData":"false","effectLabel":"clips status"},{"id":"6f04b7b1-1e93-11ee-8ad0-8dcbe72c0302","type":"firebot:toggle-command","active":true,"toggleType":"disable","commandType":"custom","commandId":"d09b9600-dbbe-11ed-99c3-c983bb9904e0","effectLabel":"Disable !clip"}],"id":"be778860-1e91-11ee-8ad0-8dcbe72c0302"},"filterData":{"mode":"exclusive","filters":[]},"id":"ceba4870-1e91-11ee-8ad0-8dcbe72c0302"},{"name":"Reset Clips Played This Stream","active":true,"cached":true,"sortTags":[],"eventId":"stream-started","sourceId":"ebiggz-obs-control","effects":{"list":[{"id":"09c435a0-2816-11ef-84c0-99c925ade2dd","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{},"effectList":{"list":[],"id":"09c5bc40-2816-11ef-84c0-99c925ade2dd"},"presetListId":"e40f58d0-2815-11ef-84c0-99c925ade2dd"}],"id":"be778860-1e91-11ee-8ad0-8dcbe72c0302"},"filterData":{"mode":"exclusive","filters":[]},"id":"ceba4870-1e91-11ee-8ad0-8dcbe72c0302"}],"eventGroups":[],"hotkeys":[],"presetEffectLists":[{"name":"[TP] ToggleClip","effects":{"list":[{"id":"538b1c70-e137-11ed-9b56-ddd81a7af71a","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$$clipsStatus","rightSideValue":"false"}]},"effectData":{"list":[{"id":"6db25cd0-e137-11ed-9b56-ddd81a7af71a","type":"firebot:announcement","active":true,"color":"Green","chatter":"Streamer","message":"Clips have been enabled for chat. Type !clip followed by a streamer you would like to play a clip from in chat. Clips will be queued, so you don't have to wait to add them."},{"id":"a5573480-e137-11ed-9b56-ddd81a7af71a","type":"firebot:customvariable","active":true,"ttl":0,"name":"clipsStatus","variableData":"true"}],"id":"538f6230-e137-11ed-9b56-ddd81a7af71a"}}],"otherwiseEffectData":{"list":[{"id":"6db25cd0-e137-11ed-9b56-ddd81a7af71a","type":"firebot:announcement","active":true,"color":"Green","chatter":"Streamer","message":"Clips have been disabled for chat."},{"id":"ad9bc070-e137-11ed-9b56-ddd81a7af71a","type":"firebot:customvariable","active":true,"ttl":0,"name":"clipsStatus","variableData":"false"}],"id":"538db480-e137-11ed-9b56-ddd81a7af71a"}},{"id":"245f6780-e132-11ed-9b56-ddd81a7af71a","type":"firebot:toggle-command","active":true,"toggleType":"toggle","commandType":"custom","commandId":"d09b9600-dbbe-11ed-99c3-c983bb9904e0"}],"id":"1da747f1-e132-11ed-9b56-ddd81a7af71a"},"args":[],"sortTags":["794beaa2-5557-412e-b1dc-f7fb771edfbd","bddb2559-cc79-474c-bb91-d22f2165b7d2"],"id":"1da747f0-e132-11ed-9b56-ddd81a7af71a"},{"name":"RandomClip","effects":{"list":[{"id":"8c30bca0-2bc5-11ee-95cd-a1b91b9c8cf9","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{"streamer":"$#streamer"},"effectList":{"list":[],"id":"8c32b870-2bc5-11ee-95cd-a1b91b9c8cf9"},"presetListId":"87fb30a0-2bc2-11ee-95cd-a1b91b9c8cf9","effectLabel":"Get User Clips"},{"id":"fc647de0-2bc5-11ee-95cd-a1b91b9c8cf9","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{},"effectList":{"list":[],"id":"fc662b90-2bc5-11ee-95cd-a1b91b9c8cf9"},"presetListId":"6cc3a6d0-2bc4-11ee-95cd-a1b91b9c8cf9","effectLabel":"Check Clips Played this Stream"},{"id":"5fc63b10-095d-11ef-b24b-b99fae498fa3","type":"firebot:customvariable","active":true,"ttl":30,"name":"userColor","variableData":"$chatUserColor[$#streamer]","effectLabel":"userColor"},{"id":"46191b20-2806-11ef-84c0-99c925ade2dd","type":"firebot:customvariable","active":true,"ttl":15,"name":"ClipDate","effectLabel":"Formatted ClipDate","variableData":"$textSubstring[$$twitchClipsData[0, created_at], 0, 10]"},{"id":"4f4ac630-2806-11ef-84c0-99c925ade2dd","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is greater than or equal to","value":null,"leftSideValue":"$textLength[$$twitchClipsData[0, title]]","rightSideValue":"60"}]},"effectData":{"list":[{"id":"aab89a30-2bd4-11ee-95cd-a1b91b9c8cf9","type":"firebot:customvariable","active":true,"ttl":90,"name":"ClipTitle","variableData":"$trim[$textSubstring[$$twitchClipsData[0, title], 0, 60]...]","effectLabel":"Formatted ClipTitle"}],"id":"99b3c2a0-2bd4-11ee-95cd-a1b91b9c8cf9"},"label":"Length of Title >= 60"}],"otherwiseEffectData":{"list":[{"id":"e27825d0-2bd4-11ee-95cd-a1b91b9c8cf9","type":"firebot:customvariable","active":true,"ttl":90,"variableData":"$trim[$$twitchClipsData[0, title]]","name":"ClipTitle","effectLabel":"ClipTitle"}],"id":"99b28a20-2bd4-11ee-95cd-a1b91b9c8cf9"},"effectLabel":"Format Title"},{"id":"1a2eae90-2bc6-11ee-95cd-a1b91b9c8cf9","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{},"effectList":{"list":[],"id":"1a311f90-2bc6-11ee-95cd-a1b91b9c8cf9"},"presetListId":"28e99d80-2bc3-11ee-95cd-a1b91b9c8cf9","effectLabel":"Get Twitch Game Info"},{"id":"47f03710-2bc9-11ee-95cd-a1b91b9c8cf9","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{},"effectList":{"list":[],"id":"47f232e0-2bc9-11ee-95cd-a1b91b9c8cf9"},"presetListId":"e48a3360-2bc8-11ee-95cd-a1b91b9c8cf9","effectLabel":"Play the selected clips"}],"id":"9c1d6530-c368-11ec-be40-ff01da2eede2","queue":"9d729480-1e90-11ee-8ad0-8dcbe72c0302"},"args":[{"name":"streamer"}],"sortTags":["85f0e950-9fd7-4f6d-a537-e7fc7fed3517","7b44937d-9910-4a10-aff4-c256ed137019","9d94f6dc-52cd-4e05-9423-db7f724223cf","c7299530-6b33-4cfe-9571-984695db5292","bddb2559-cc79-474c-bb91-d22f2165b7d2"],"id":"9c1d3e20-c368-11ec-be40-ff01da2eede2"},{"name":"[TP] Stop Current Clips","effects":{"list":[{"id":"c0efc640-1e8f-11ee-8ad0-8dcbe72c0302","type":"firebot:clear-effects","active":true,"queueId":"all","overlay":true,"sounds":false,"queues":false,"overlayInstance":"Clips"}],"id":"c0efc641-1e8f-11ee-8ad0-8dcbe72c0302"},"args":[],"sortTags":["794beaa2-5557-412e-b1dc-f7fb771edfbd","c7299530-6b33-4cfe-9571-984695db5292","bddb2559-cc79-474c-bb91-d22f2165b7d2","0affaaab-0648-4d18-bbe4-d9451f48c031"],"id":"c0efc640-1e8f-11ee-92eb-9f052aff649c"},{"name":"[API] Get User Clips","effects":{"list":[{"id":"7a387690-27fb-11ef-84c0-99c925ade2dd","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] In [API] Get User Clips"},{"id":"c8b084e0-2bc4-11ee-95cd-a1b91b9c8cf9","type":"firebot:customvariable","active":true,"ttl":15,"name":"CurrentDate","effectLabel":"Filter - CurrentDate {toggle}","variableData":"$date[YYYY-MM-DD]"},{"id":"d1c001f0-2bc4-11ee-95cd-a1b91b9c8cf9","type":"firebot:customvariable","active":true,"ttl":15,"name":"PreviousYear","effectLabel":"Filter - PreviousYear (Calculated) {toggle}","variableData":"$date[YYYY-MM-DD, -12, months]"},{"id":"ff8f3bf0-6ac6-11ee-a034-77f1f8367a32","type":"firebot:customvariable","active":true,"ttl":30,"variableData":"$trim[$replace[$lowercase[$#streamer], \"@\", \"\"]]","name":"this_user","effectLabel":"this_user - Sanitize remove @"},{"id":"18e6bba0-27f5-11ef-84c0-99c925ade2dd","type":"firebot:customvariable","active":true,"ttl":90,"name":"filterNumberofclips","variableData":"100","effectLabel":"filterNumberofclips {customize}"},{"id":"d491f890-2bc2-11ee-95cd-a1b91b9c8cf9","type":"firebot:http-request","active":true,"headers":[],"options":{"useTwitchAuth":true},"url":"https://api.twitch.tv/helix/clips?broadcaster_id=$userId[$customVariable[this_user]]&first=$customVariable[filterNumberofclips]&started_at=$customVariable[PreviousYear]T00:00:00Z&ended_at=$customVariable[CurrentDate]T00:00:00Z","method":"GET","effectLabel":"Get List of Twitch Clips (Date Filter) {toggle}"},{"id":"a13acaa0-2fa8-11ee-84d6-11f939a331b1","type":"firebot:http-request","active":false,"headers":[],"options":{"useTwitchAuth":true},"url":"https://api.twitch.tv/helix/clips?broadcaster_id=$userId[$customVariable[this_user]]]&first=100","method":"GET","effectLabel":"Get List of Twitch Clips (No Date Filter) {toggle}"},{"id":"e3706db0-2bc2-11ee-95cd-a1b91b9c8cf9","type":"firebot:customvariable","active":true,"ttl":90,"variableData":"$&httpResponse","name":"twitchClipsJson","effectLabel":"twitchClipsJson"},{"id":"aa7db940-2bc2-11ee-95cd-a1b91b9c8cf9","type":"firebot:customvariable","active":true,"ttl":90,"name":"twitchClipsData","variableData":"$$twitchClipsJson[data]","effectLabel":"twitchClipsData"},{"id":"8ab40bd0-27f9-11ef-84c0-99c925ade2dd","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{},"effectList":{"list":[],"id":"8ab5e090-27f9-11ef-84c0-99c925ade2dd"},"presetListId":"81c46510-27f4-11ef-84c0-99c925ade2dd","effectLabel":"Filter Clips by Duration {toggle}"},{"id":"80666fd0-2801-11ef-84c0-99c925ade2dd","type":"firebot:customvariable","active":true,"ttl":0,"name":"twitchClipsData","variableData":"$arrayShuffle[$$twitchClipsFiltered]","effectLabel":"twitchClipsData - Randomized list"},{"id":"6cc685b0-56f5-11ee-a5d5-2f1d6b6d5b1d","type":"firebot:filewriter","active":false,"writeMode":"replace","deleteLineMode":"lines","replaceLineMode":"lineNumbers","filepath":"$replace[E:\\\\Streaming\\\\data\\\\dbg\\\\$#streamer .json,\" \",\"\"]","text":"$$twitchClipsData","effectLabel":"debug"}],"id":"87fb57b0-2bc2-11ee-95cd-a1b91b9c8cf9"},"args":[{"name":"streamer"}],"sortTags":["75e6a3bc-a3d9-47a9-9136-63a957f2b106","4ec259a1-f622-4d17-881c-b3031774dbc4","bddb2559-cc79-474c-bb91-d22f2165b7d2"],"id":"87fb30a0-2bc2-11ee-95cd-a1b91b9c8cf9"},{"name":"[API] Get Twitch Game Info by Id (Depends on [API] Get User Clips)","effects":{"list":[{"id":"099bbc80-280a-11ef-84c0-99c925ade2dd","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] In Get Game Info"},{"id":"40a227d0-2bc3-11ee-95cd-a1b91b9c8cf9","type":"firebot:http-request","active":true,"headers":[],"options":{"useTwitchAuth":true},"url":"https://api.twitch.tv/helix/games?id=$customVariable[twitchClipsData,0.game_id]","method":"GET","effectLabel":"Get Twitch Game"},{"id":"4a77b400-2bc3-11ee-95cd-a1b91b9c8cf9","type":"firebot:customvariable","active":true,"ttl":90,"name":"twitchGameJson","variableData":"$&httpResponse","effectLabel":"twitchGameJson"},{"id":"b95b4fb0-2818-11ef-84c0-99c925ade2dd","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] Populate game info"},{"id":"b95b4fb1-2818-11ef-84c0-99c925ade2dd","type":"firebot:customvariable","active":true,"ttl":90,"name":"twitchGameData","variableData":"$$twitchGameJson[data]","effectLabel":"twitchGameData"},{"id":"55deae40-2bc6-11ee-95cd-a1b91b9c8cf9","type":"firebot:customvariable","active":true,"ttl":30,"variableData":"$replace[$$twitchGameData[0, box_art_url], \"{width}x{height}\", \"50x50\"]","name":"boxArtUrl","effectLabel":"boxArtUrl"},{"id":"f57f7010-56f5-11ee-a5d5-2f1d6b6d5b1d","type":"firebot:filewriter","active":false,"writeMode":"replace","deleteLineMode":"lines","replaceLineMode":"lineNumbers","filepath":"E:\\Streaming\\data\\dbg\\twitchClipDBG.json","text":"TwitchClip - $$twitchClipsData[0]\nGameInfo - $$twitchGameData[0]","effectLabel":"debug"}],"id":"28e99d81-2bc3-11ee-95cd-a1b91b9c8cf9"},"args":[],"sortTags":["75e6a3bc-a3d9-47a9-9136-63a957f2b106","4ec259a1-f622-4d17-881c-b3031774dbc4","bddb2559-cc79-474c-bb91-d22f2165b7d2"],"id":"28e99d80-2bc3-11ee-95cd-a1b91b9c8cf9"},{"name":"Clips Played this Stream","effects":{"list":[{"id":"74235100-2bc4-11ee-95cd-a1b91b9c8cf9","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$$clipsPlayedThisStream"}]},"effectData":{"list":[{"id":"edb6aad0-1e81-11ee-a4da-0523cb75030f","type":"firebot:customvariable","active":true,"ttl":0,"name":"clipsPlayedThisStream","variableData":"[]","effectLabel":"clipsPlayedThisStream"}],"id":"c3bc8330-1e81-11ee-a4da-0523cb75030f"},"label":"init clipsPlayedThisStream"}],"otherwiseEffectData":{"list":[{"id":"75704690-2bc8-11ee-95cd-a1b91b9c8cf9","type":"firebot:loopeffects","active":true,"effectList":{"list":[{"id":"13277690-1e7e-11ee-a4da-0523cb75030f","type":"firebot:customvariable","active":true,"ttl":30,"name":"twitchClipsData","variableData":"$arrayFilter[$$twitchClipsData, $loopItem, id, true]","effectLabel":"twitchClipsData"}],"id":"be6aa730-1e7d-11ee-a4da-0523cb75030f"},"loopMode":"array","conditionData":{"mode":"exclusive","conditions":[]},"effectLabel":"filter twitchData for clipsplayedThisStream","arrayToIterate":"$$clipsPlayedThisStream"}],"id":"c3bb4ab0-1e81-11ee-a4da-0523cb75030f"},"effectLabel":"clipsPlayedThisStream","otherwiseLabel":"populate clipsPlayedThisStream"}],"id":"6cc3cde0-2bc4-11ee-95cd-a1b91b9c8cf9"},"args":[],"sortTags":["bddb2559-cc79-474c-bb91-d22f2165b7d2"],"id":"6cc3a6d0-2bc4-11ee-95cd-a1b91b9c8cf9"},{"name":"Clip Player","effects":{"list":[{"id":"47b442a0-2808-11ef-84c0-99c925ade2dd","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] In the Clip Player"},{"id":"1ee79b60-2bc9-11ee-95cd-a1b91b9c8cf9","type":"firebot:customvariable","active":true,"ttl":1,"name":"custome","variableData":"custom feature request pending","effectLabel":"Create Queue to enable !Skip"},{"id":"e86a05a4-2bc8-11ee-95cd-a1b91b9c8cf9","type":"firebot:html","active":true,"enterAnimation":"fadeIn","exitAnimation":"fadeOut","inbetweenAnimation":"none","html":"$evalVars[$readFile[E:\\Streaming\\Assets\\Overlays\\clip\\clips.html]]","length":"$$twitchClipsData[0, duration]","effectLabel":"show clips.html","overlayInstance":"Clips"},{"id":"e86a05a5-2bc8-11ee-95cd-a1b91b9c8cf9","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$$twitchClipsData[0, id]"}]},"effectData":{"list":[{"id":"9dc0ae20-f07e-11ee-98d1-879b375fcabf","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] In the random Streamer condition"},{"id":"51174460-1e8f-11ee-8ad0-8dcbe72c0302","type":"firebot:playvideo","active":true,"volume":5,"position":"Middle","customCoords":{"top":0,"bottom":null,"left":0,"right":null},"enterAnimation":"fadeIn","exitAnimation":"fadeOut","inbetweenAnimation":"none","videoType":"Twitch Clip","youtube":"","file":"","twitchClipUrl":"$$twitchClipsData[0,id]","twitchClipUsername":"","reset":true,"wait":true,"height":"540","width":"960","overlayInstance":"Clips","length":"$$twitchClipsData[0,duration]"},{"id":"2712e8c0-1e7d-11ee-a4da-0523cb75030f","type":"firebot:customvariable","active":true,"ttl":0,"name":"clipsPlayedThisStream","variableData":"$arrayAdd[$$clipsPlayedThisStream, $$twitchClipsData[0,id]]","effectLabel":"clipsPlayedThisStream"}],"id":"399c4530-7b31-11ed-a477-51c759d9aaff"},"label":"Streamer named"}],"otherwiseEffectData":{"list":[{"id":"3c60ac80-2809-11ef-84c0-99c925ade2dd","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] In the ClipUri segment"},{"id":"3c60ac81-2809-11ef-84c0-99c925ade2dd","type":"firebot:playvideo","active":true,"volume":3,"position":"Middle","customCoords":{"top":0,"bottom":null,"left":0,"right":null},"enterAnimation":"fadeIn","exitAnimation":"fadeOut","inbetweenAnimation":"none","videoType":"Twitch Clip","youtube":"","file":"","twitchClipUrl":"$$clipId","twitchClipUsername":"","reset":true,"wait":true,"height":"540","width":"960","overlayInstance":"Clips","length":""},{"id":"3c60ac82-2809-11ef-84c0-99c925ade2dd","type":"firebot:customvariable","active":true,"ttl":0,"name":"clipsPlayedThisStream","variableData":"$arrayAdd[$$clipsPlayedThisStream, $$clipId]","effectLabel":"clipsPlayedThisStream"}],"id":"399a9780-7b31-11ed-a477-51c759d9aaff"},"effectLabel":"Player"}],"id":"e48a3361-2bc8-11ee-95cd-a1b91b9c8cf9"},"args":[],"sortTags":["bddb2559-cc79-474c-bb91-d22f2165b7d2"],"id":"e48a3360-2bc8-11ee-95cd-a1b91b9c8cf9"},{"name":"[Utility] Clip Uri Details","effects":{"list":[{"id":"5ccade30-f06b-11ee-92ae-6b3a927f4fc8","type":"firebot:customvariable","active":true,"ttl":30,"name":"clipIdArray","effectLabel":"Clip ID Array of the Clip URI","variableData":"$splitText[$$clipUri, /]"},{"id":"21ea39f0-117c-11ef-88c9-aff1a8145a9c","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] clipId for uri >> $arrayElement[$$clipIdArray, 3]"},{"id":"738c0070-f07c-11ee-98d1-879b375fcabf","type":"firebot:customvariable","active":true,"ttl":30,"name":"clipId","effectLabel":"Clip ID of the Clip URI","variableData":"$arrayElement[$$clipIdArray, 3]"}],"id":"0d2f61c0-f06b-11ee-92ae-6b3a927f4fc8"},"args":[],"sortTags":["bddb2559-cc79-474c-bb91-d22f2165b7d2","b5b82cd7-f6c2-42ce-ab7e-b3b623282615"],"id":"0d2f3ab0-f06b-11ee-92ae-6b3a927f4fc8"},{"name":"[Utility] Clip Duration Filter","effects":{"list":[{"id":"9a906190-27fc-11ef-84c0-99c925ade2dd","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] In Duration Filter"},{"id":"9ee3afc0-27f4-11ef-84c0-99c925ade2dd","type":"firebot:loopeffects","active":true,"effectList":{"list":[{"id":"aba04790-27fa-11ef-84c0-99c925ade2dd","type":"firebot:customvariable","active":true,"ttl":90,"name":"filterDuration","variableData":"30","effectLabel":"filterDuration {customize}"},{"id":"d63fbea0-27f4-11ef-84c0-99c925ade2dd","type":"firebot:customvariable","active":true,"ttl":90,"name":"singleClip","variableData":"$convertFromJSON[$loopItem]","propertyPath":"","effectLabel":"singleClip [json]"},{"id":"d05df320-27fa-11ef-84c0-99c925ade2dd","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is less than or equal to","value":null,"leftSideValue":"$$singleClip[duration]","rightSideValue":"$$filterDuration"}]},"effectData":{"list":[{"id":"2af05800-2800-11ef-84c0-99c925ade2dd","type":"firebot:log-message","active":true,"logLevel":"Info","logMessage":"DBG: [$date $time] Adding to filtered list"},{"id":"2af05801-2800-11ef-84c0-99c925ade2dd","type":"firebot:customvariable","active":true,"ttl":90,"name":"twitchClipsFiltered","variableData":"$arrayAdd[$$twitchClipsFiltered, $$singleClip, false]","effectLabel":"twitchClipsFiltered"}],"id":"d060d950-27fa-11ef-84c0-99c925ade2dd"},"label":"duration less than equal to filter, keep it"}],"otherwiseEffectData":{"list":[],"id":"d05fc7e0-27fa-11ef-84c0-99c925ade2dd"}}],"id":"9eed9ad0-27f4-11ef-84c0-99c925ade2dd"},"loopMode":"array","conditionData":{"mode":"exclusive","conditions":[]},"arrayToIterate":"$$twitchClipsData","loopCount":"5","effectLabel":"Loop through list and filter by duration"},{"id":"ef6d5460-2802-11ef-84c0-99c925ade2dd","type":"firebot:filewriter","active":false,"writeMode":"replace","deleteLineMode":"lines","replaceLineMode":"lineNumbers","filepath":"$replace[E:\\\\Streaming\\\\data\\\\dbg\\\\filtered.json,\" \",\"\"]","text":"$$twitchClipsFiltered","effectLabel":"debug"}],"id":"81c4b330-27f4-11ef-84c0-99c925ade2dd"},"args":[],"sortTags":["bddb2559-cc79-474c-bb91-d22f2165b7d2"],"id":"81c46510-27f4-11ef-84c0-99c925ade2dd"},{"name":"[Utility] Reset Clips Played this Stream","effects":{"list":[{"id":"f33202e0-2815-11ef-84c0-99c925ade2dd","type":"firebot:customvariable","active":true,"ttl":0,"name":"clipsPlayedThisStream","variableData":"[]","effectLabel":"clipsPlayedThisStream"},{"id":"f33202e1-2815-11ef-84c0-99c925ade2dd","type":"firebot:customvariable","active":true,"ttl":0,"name":"clipsStatus","variableData":"false","effectLabel":"clipsStatus"},{"id":"f33202e2-2815-11ef-84c0-99c925ade2dd","type":"firebot:toggle-command","active":true,"toggleType":"disable","commandType":"custom","commandId":"d09b9600-dbbe-11ed-99c3-c983bb9904e0","effectLabel":"Disable !clip"},{"id":"f33202e3-2815-11ef-84c0-99c925ade2dd","type":"firebot:chat","active":true,"chatter":"Bot","message":"Clips stream session has been reset!"}],"id":"e40f58d1-2815-11ef-84c0-99c925ade2dd"},"args":[],"sortTags":["bddb2559-cc79-474c-bb91-d22f2165b7d2"],"id":"e40f58d0-2815-11ef-84c0-99c925ade2dd"}],"timers":[],"viewerRoles":[],"quickActions":[]},"requireCurrency":false,"importQuestions":[{"id":"5f5945bb-7722-4e22-b50d-2d9a79bb81ce","question":"What is the path you want to store the HTML file?","helpText":"This will vary depending on your setup and file system.","defaultAnswer":"E:\\Streaming\\Assets\\Overlays\\clip","answerType":"text","replaceToken":"E:\\Streaming\\Assets\\Overlays\\clip"}]}